include("stdtest.ph");

var m = 0;
var c = 0;

class foo
{
    func f()
    {
        ++m;
    }

    func f() const
    {
        ++c;
    }

    func g() const
    {
        this.f();
        f();
    }
}

func main()
{
    var a:const foo;
    a.g();

    test.assert(m == 0);
    test.assert(c == 2);

    m = c = 0;

    var b:foo;
    b.f();

    test.assert(m == 1);
    test.assert(c == 0);
}
