include("stdtest.ph");

class foo;

var g:ptr foo;

class foo
{
    func new(){ g = &this; }
    func delete(){ }
}

func main()
{
    var a:foo;
    test.assert(g == &a);
}
